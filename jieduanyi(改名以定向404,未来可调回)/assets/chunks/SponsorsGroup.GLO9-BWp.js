import{r as e,g as a,b as s,B as t,o as r,c as n,u as i,F as o,l as c,e as l,k as p,D as u,_ as m}from"./framework.riqP6gDW.js";const g=e(),f=e(!1),d="https://sponsors.vuejs.org",v=async()=>{f.value||(f.value=!0,g.value=await(await fetch(`${d}/data.json`)).json())},k=["href"],y={key:0},h=["srcset"],$=["src","alt"],_=["src","alt"],b=m(a({__name:"SponsorsGroup",props:{tier:{},placement:{default:"aside"}},setup(a){const m=a,f=e(),b=e(!1);s((async()=>{const e=new IntersectionObserver((a=>{a[0].isIntersecting&&(b.value=!0,e.disconnect())}),{rootMargin:"0px 0px 300px 0px"});e.observe(f.value),t((()=>e.disconnect())),await v()}));const w={aside:"4QUPDDRU",landing:"58FLAR2Z",page:"ZXLO3IUT"};function x(e){fathom.trackGoal(e?"Y2BVYNT2":w[m.placement],0)}function j(e){let a=e[m.tier];return"aside"===m.placement&&("platinum"===m.tier?a=a.filter((e=>!e.priority)):"special"===m.tier&&(a=[...a,...e.platinum.filter((e=>e.priority))])),a}return(e,a)=>(r(),n("div",{ref_key:"container",ref:f,class:u(["sponsor-container",["platinum_china"===e.tier?"special":e.tier,e.placement]])},[i(g)&&b.value?(r(!0),n(o,{key:0},c(j(i(g)),(({url:e,img:s,name:t})=>(r(),n("a",{class:"sponsor-item",href:e,target:"_blank",rel:"sponsored noopener",onClick:a[0]||(a[0]=e=>x())},[s.endsWith("png")?(r(),n("picture",y,[l("source",{type:"image/avif",srcset:`${i(d)}/images/${s.replace(/\.png$/,".avif")}`},null,8,h),l("img",{src:`${i(d)}/images/${s}`,alt:t},null,8,$)])):(r(),n("img",{key:1,src:`${i(d)}/images/${s}`,alt:t},null,8,_))],8,k)))),256)):p("",!0),"page"!==e.placement&&"special"!==e.tier?(r(),n("a",{key:1,href:"/sponsor/",class:"sponsor-item action",onClick:a[1]||(a[1]=e=>x(!0))},"成为赞助商")):p("",!0)],2))}}),[["__scopeId","data-v-ae26ae77"]]);export{b as S,d as b,g as d,v as l};
